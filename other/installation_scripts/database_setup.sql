# remove previous work
DROP USER 'jordan'@'localhost';
DROP DATABASE icst;

# create db
create database icst character set utf8 collate utf8_bin;

USE icst;
START TRANSACTION;

# create table
CREATE TABLE `admin` (
  `id` int(11) NOT NULL,
  `username` varchar(80) NOT NULL,
  `pass_hash` varchar(80) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

# insert admin pass record
INSERT INTO `admin` (`id`, `username`, `pass_hash`) VALUES
(1, 'admin', '$2b$12$tAf68hxb2Z0xpTE9i2wbNusRMV3tOFLLVEKx.XjMVUwBmwGmc60mq');

CREATE TABLE `gene_list` (
  `id` int(11) NOT NULL,
  `gene_list` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `gene_list` (`id`, `gene_list`) VALUES (1, "ACTL6A,ADAM9,ADAMTS1,ADCY7,AIMP2,ALKBH7,ALOX5AP,AMPD3,APITD1,APOC1,APOE,APOO,ARHGAP1,ARHGAP15,ARHGDIA,ARRB2,B2M,BCCIP,BRCA2,BRIP1,BSG,BTK,C11ORF24,C12ORF24,SPRYD7,C13ORF1,C13ORF18,C13ORF27,C16ORF61,C19ORF48,C1ORF54,C3AR1,C3ORF26,CASP1,CBX1,CCBL2,CCL2,CCL5,CCRL2,CCT5,CD14,CD163,CD19,CD3Z,CD247,CD33,CD37,CD3D,CD3E,CD3G,CD44,CD48,CD52,CD53,CD59,CD79A,CD79B,CD84,CD86,CD8A,CD8B1,CD8B,CD97,CDCA4,CDH6,CDK2,CECR1,CUGBP2,CELF2,CENPJ,CENPN,CENPO,CENPW,CEP78,CHEK1,CKLF,COL16A1,COL1A2,COL3A1,COL6A1,COL6A3,COL8A1,COPS6,COQ2,CORO1A,CORO1C,COTL1,COX17,CPEB4,CPVL,CSF1R,CTNNA1,CTNNB1,CTSC,CTSL,CTSL1,CTSS,CXCL10,CXCR4,CYBB,PSCDBP,CYTIP,DAPK1,DBNDD1,DCBLD2,DCK,DCLRE1B,DDX58,DDX60,DHFR,DLEU1,DLEU2,DOCK2,DSP,DUT,DVL1,DVL3,DYNLT1,EBNA1BP2,EFNA5,EIF2AK1,EIF4EBP1,EIF4G1,EMP2,ENO1,EPHA2,EPHB2,EPHB3,EPHB4,ERLIN1,EVI2A,EVI2B,EXOSC8,EZR,F3,FAM167A,FAM89B,FARSA,FARSB,FBXO41,FCER1G,FCGR1A,FCGR2A,FCGR2B,FCGR3A,FGD1,FGL2,FGR,FLI1,FLNC,FMNL1,FN1,FNBP1,FPRL2,FPR3,FYB,GGH,GIMAP4,GLRX3,GNG11,GNPTAB,GPLD1,GPNMB,GSTCD,H2AFZ,HAS2,HAUS1,HCK,HCLS1,IGHG3,HDC,HERC5,HERC6,HLA-DMA,HLA-DRB1,HMGN2,HMHA1,HN1L,HNRNPA2B1,HNRNPR,HSPB11,HSPG2,HYLS1,ICAM1,ID2,ID3,IFI16,IFI27,IFI30,IFI44,IFI44L,IFI6,IFIH1,IFIT1,IFIT2,IFIT3,IFRD2,IGF2R,IGFBP2,IGFBP3,IGFBP4,IGFBP5,IGJ,IKZF1,IL10RA,IL18,IL7R,IMP4,IPO4,ISG15,ITGA3,ITGA4,ITGA5,ITGA6,ITGB2,ITGB3,ITGB5,ITGB8,JUNB,JUP,KIAA0090,KRR1,LAIR1,LAMA4,LAMB1,LAPTM5,LCK,LCP1,LCP2,LHFPL2,LILRB4,LMNB2,LOXL2,LRMP,LRP1,LRRC17,LRRC40,LSM3,LSM4,LST1,LTB,LY86,LYAR,LYN,LYZ,MAGOHB,MAP3K8,MAPRE1,MARCKSL1,MARVELD2,MCM3,MCM7,MCTS1,MERTK,MET,MFSD11,MKKS,MLF1IP,MMP1,MMP11,MMP14,MMP17,MMP19,MMP2,MNAT1,MNDA,MPP1,MRPL12,MRPL37,MRPS16,MRPS28,MRTO4,MS4A1,MSN,MT1F,MT3,MTA1,MTHFD1,MX1,MYBL1,MYBL2,MYCBP,MYL6,MYO1F,NCEH1,NCF2,NCKAP1L,NCLN,NEO1,NID1,NLN,NME1,NOP16,NOTCH2,NPC2,NPL,NRIP3,NUDT1,NUDT15,NUP107,NUP35,NUP85,NUP93,NUPL1,NUTF2,OAS1,OAS2,OAS3,OASL,OSBPL3,PA2G4,PAICS,PAK1,PAK2,PDAP1,PDIA4,PDLIM7,PFKP,PFN1,PGM2,PHF19,PIK3CG,PITPNC1,PLAT,PLAUR,PLCG2,PLEK,PLK4,PLOD2,PNN,PNO1,POLE2,POLR3K,PPIH,PSMA7,PSMC3,PSMD12,PSMD14,PSMD2,PTPLB,PTPRC,PXN,RAB3B,RAC1,RASSF2,RASSF4,RBM14,RFC3,RHOA,RHOB,RHOC,RHOG,RHOQ,RMND5B,RNASE6,RND3,RNF138,RNF41,RPN1,RPP40,RSAD2,RTP4,RUNX3,RUVBL1,SAMD9,SAMHD1,SAMSN1,SAR1A,SAR1B,SDC1,SELL,SELPLG,SEMA3F,SERPINE1,SH2B3,SH3BP5L,SKA1,SKA2,SLC16A1,SLC1A3,SLC25A40,SLC25A5,SLC7A7,SMC2,SMO,SMS,SMURF2,SNRPA,SNRPA1,SNRPB,SNRPC,SNRPD1,SNRPE,SNX17,SP140,SPAG17,SPARC,SRM,STAT1,STK17A,STRA13,SYK,TAGLN,TAP1,TBXAS1,TCEB1,TCF7L2,THBS1,THBS2,TIMP1,TLR2,TMEM130,TNC,TNFAIP3,TNFRSF12A,TNFRSF1A,TNFRSF1B,TNFSF13B,TOMM40,TPI1,TPM1,TPM2,TPM3,TPRKB,TRA2B,TUBA4A,TUBG1,UAP1,UBE2J1,UMPS,UQCR10,USPL1,CSPG2,VCAN,VDAC1,VSIG4,VTA1,WDHD1,WDR54,WDR77,WIPF1,WNT2B,WNT8B,WSB2,ZWILCH,ZYX,MMP3,PLG,RGS8,TYPEID
");

# set up keys
ALTER TABLE `admin`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `username` (`username`);

ALTER TABLE `gene_list`
  ADD PRIMARY KEY (`id`);
  
ALTER TABLE `admin`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

ALTER TABLE `gene_list`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT;

COMMIT;



# create user and grant permissions
create user 'jordan'@'localhost' identified by 'icst';
grant all privileges on icst.* to 'jordan'@'localhost';
flush privileges;